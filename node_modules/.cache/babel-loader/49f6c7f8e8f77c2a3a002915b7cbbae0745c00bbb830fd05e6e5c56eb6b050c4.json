{"ast":null,"code":"import _slicedToArray from\"E:/Maklakov/mulitsa/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{useUserContext}from'../components/UserProvider';import NoteDeleteButton from'../components/NoteDeleteButton';import NoteEditButton from'../components/NoteEditButton';import{deleteNote,getNotesByUserId}from'../api/notes';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NotesPage=function NotesPage(){var navigate=useNavigate();var _useUserContext=useUserContext(),user=_useUserContext.user;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),notes=_useState2[0],setNotes=_useState2[1];useEffect(function(){getNotesByUserId(user.id).then(function(notes){return setNotes(notes);});},[user.id]);return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"border-gray-200 border max-w-xs px-2 py-1 text-xl\",children:/*#__PURE__*/_jsx(Link,{to:\"/notes/new\",children:\"Add new\"})}),notes.map(function(note){var handleDeleteNote=function handleDeleteNote(){deleteNote(note.id);};var handleEditNote=function handleEditNote(){navigate(\"/notes/\".concat(note.id,\"/edit\"));};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex border rounded-sm px-2 py-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/notes/\".concat(note.id),className:\"text-xl font-bold\",children:[note.title,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[new Date(note.createdAt).toDateString(),\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-auto flex flex-col gap-1 justify-center items-center\",children:[/*#__PURE__*/_jsx(NoteDeleteButton,{onDelete:handleDeleteNote}),/*#__PURE__*/_jsx(NoteEditButton,{onEdit:handleEditNote})]})]});})]});};export default NotesPage;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useUserContext","NoteDeleteButton","NoteEditButton","deleteNote","getNotesByUserId","NotesPage","navigate","user","notes","setNotes","id","then","map","note","handleDeleteNote","handleEditNote","title","Date","createdAt","toDateString"],"sources":["E:/Maklakov/mulitsa/src/pages/NotesPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { useUserContext } from '../components/UserProvider'\r\nimport NoteDeleteButton from '../components/NoteDeleteButton'\r\nimport NoteEditButton from '../components/NoteEditButton'\r\nimport { deleteNote, getNotesByUserId } from '../api/notes'\r\nconst NotesPage = () => {\r\n    const navigate = useNavigate()\r\n    const { user } = useUserContext()\r\n    const [notes, setNotes] = useState([])\r\n    useEffect(() => {\r\n        getNotesByUserId(user.id).then((notes) => setNotes(notes))\r\n    }, [user.id])\r\n\r\n    return (\r\n        <div className='flex flex-col gap-2'>\r\n            <div className='border-gray-200 border max-w-xs px-2 py-1 text-xl'>\r\n                <Link to='/notes/new'>Add new</Link>\r\n            </div>\r\n            {notes.map((note) => {\r\n                const handleDeleteNote = () => {\r\n                    deleteNote(note.id)\r\n                }\r\n                const handleEditNote = () => {\r\n                    navigate(`/notes/${note.id}/edit`)\r\n                }\r\n                return <div className=\"flex border rounded-sm px-2 py-1\">\r\n                    <div className=\"\">\r\n                        <Link to={`/notes/${note.id}`} className='text-xl font-bold'>{note.title} </Link>\r\n                        <p>{new Date(note.createdAt).toDateString()} </p>\r\n                    </div>\r\n                    <div className=\"ml-auto flex flex-col gap-1 justify-center items-center\">\r\n                        <NoteDeleteButton onDelete={handleDeleteNote} />\r\n                        <NoteEditButton onEdit={handleEditNote} />\r\n                    </div>\r\n                </div>\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NotesPage"],"mappings":"yGAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CACpD,OAASC,cAAc,KAAQ,4BAA4B,CAC3D,MAAOC,iBAAgB,KAAM,gCAAgC,CAC7D,MAAOC,eAAc,KAAM,8BAA8B,CACzD,OAASC,UAAU,CAAEC,gBAAgB,KAAQ,cAAc,yFAC3D,GAAMC,UAAS,CAAG,QAAZA,UAAS,EAAS,CACpB,GAAMC,SAAQ,CAAGP,WAAW,EAAE,CAC9B,oBAAiBC,cAAc,EAAE,CAAzBO,IAAI,iBAAJA,IAAI,CACZ,cAA0BX,QAAQ,CAAC,EAAE,CAAC,wCAA/BY,KAAK,eAAEC,QAAQ,eACtBZ,SAAS,CAAC,UAAM,CACZO,gBAAgB,CAACG,IAAI,CAACG,EAAE,CAAC,CAACC,IAAI,CAAC,SAACH,KAAK,QAAKC,SAAQ,CAACD,KAAK,CAAC,GAAC,CAC9D,CAAC,CAAE,CAACD,IAAI,CAACG,EAAE,CAAC,CAAC,CAEb,mBACI,aAAK,SAAS,CAAC,qBAAqB,wBAChC,YAAK,SAAS,CAAC,mDAAmD,uBAC9D,KAAC,IAAI,EAAC,EAAE,CAAC,YAAY,qBAAe,EAClC,CACLF,KAAK,CAACI,GAAG,CAAC,SAACC,IAAI,CAAK,CACjB,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAgB,EAAS,CAC3BX,UAAU,CAACU,IAAI,CAACH,EAAE,CAAC,CACvB,CAAC,CACD,GAAMK,eAAc,CAAG,QAAjBA,eAAc,EAAS,CACzBT,QAAQ,kBAAWO,IAAI,CAACH,EAAE,UAAQ,CACtC,CAAC,CACD,mBAAO,aAAK,SAAS,CAAC,kCAAkC,wBACpD,aAAK,SAAS,CAAC,EAAE,wBACb,MAAC,IAAI,EAAC,EAAE,kBAAYG,IAAI,CAACH,EAAE,CAAG,CAAC,SAAS,CAAC,mBAAmB,WAAEG,IAAI,CAACG,KAAK,OAAS,cACjF,qBAAI,GAAIC,KAAI,CAACJ,IAAI,CAACK,SAAS,CAAC,CAACC,YAAY,EAAE,OAAM,GAC/C,cACN,aAAK,SAAS,CAAC,yDAAyD,wBACpE,KAAC,gBAAgB,EAAC,QAAQ,CAAEL,gBAAiB,EAAG,cAChD,KAAC,cAAc,EAAC,MAAM,CAAEC,cAAe,EAAG,GACxC,GACJ,CACV,CAAC,CAAC,GACA,CAEd,CAAC,CAED,cAAeV,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}