{"ast":null,"code":"import React,{Suspense,useCallback}from'react';import{deleteNote,getNoteById}from'../api/notes';import{useLoaderData,Await,useNavigate,Link}from\"react-router-dom\";import NoteDeleteButton from'../components/NoteDeleteButton';import BackBtn from'../components/BackBtn';import NoteEditButton from'../components/NoteEditButton';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var DynamicNotePage=function DynamicNotePage(){var navigate=useNavigate();var _useLoaderData=useLoaderData(),notePromise=_useLoaderData.notePromise,id=_useLoaderData.id;var handleDeleteNote=useCallback(function(){deleteNote(id).then(function(){return navigate(\"/notes\");});},[id,navigate]);var handleEditNote=useCallback(function(){navigate(\"/notes/\".concat(id,\"/edit\"));},[id,navigate]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(BackBtn,{to:\"/notes\"}),/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}),children:/*#__PURE__*/_jsx(Await,{resolve:notePromise,errorElement:/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-3xl font-bold text-center\",children:[\"No note with ID \",id]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl text-center\",children:/*#__PURE__*/_jsx(Link,{to:\"/notes\",children:\"To notes list\"})})]}),children:function children(note){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"font-bold text-xl\",children:[note.title,\" \"]}),/*#__PURE__*/_jsxs(\"p\",{children:[note.body,\" \"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-auto flex flex-col gap-1 justify-center items-center\",children:[/*#__PURE__*/_jsx(NoteDeleteButton,{onDelete:handleDeleteNote}),/*#__PURE__*/_jsx(NoteEditButton,{onEdit:handleEditNote})]})]});}})})]});};export default DynamicNotePage;export var noteLoader=function noteLoader(_ref){var id=_ref.params.id;return{notePromise:getNoteById(id),id:id};};","map":{"version":3,"names":["React","Suspense","useCallback","deleteNote","getNoteById","useLoaderData","Await","useNavigate","Link","NoteDeleteButton","BackBtn","NoteEditButton","DynamicNotePage","navigate","notePromise","id","handleDeleteNote","then","handleEditNote","note","title","body","noteLoader","params"],"sources":["E:/Maklakov/mulitsa/src/pages/DynamicNotePage.jsx"],"sourcesContent":["import React, { Suspense, useCallback } from 'react'\r\nimport { deleteNote, getNoteById } from '../api/notes'\r\nimport { useLoaderData, Await, useNavigate, Link } from \"react-router-dom\"\r\nimport NoteDeleteButton from '../components/NoteDeleteButton'\r\nimport BackBtn from '../components/BackBtn'\r\nimport NoteEditButton from '../components/NoteEditButton'\r\n\r\nconst DynamicNotePage = () => {\r\n    const navigate = useNavigate()\r\n    const { notePromise, id } = useLoaderData()\r\n    const handleDeleteNote = useCallback(() => {\r\n        deleteNote(id).then(() => navigate(\"/notes\"))\r\n    }, [id, navigate])\r\n    const handleEditNote = useCallback(() => {\r\n        navigate(`/notes/${id}/edit`)\r\n    }, [id, navigate])\r\n    return (\r\n        <>\r\n            <BackBtn to='/notes' />\r\n            <Suspense fallback={<p>Loading...</p>}>\r\n                <Await resolve={notePromise} errorElement={\r\n                    <>\r\n                        <h1 className='text-3xl font-bold text-center'>\r\n                            No note with ID {id}\r\n                        </h1>\r\n                        <p className='text-2xl text-center'>\r\n\r\n                            <Link to={\"/notes\"} >To notes list</Link>\r\n                        </p>\r\n                    </>\r\n                }>\r\n                    {(note) => <div className='flex'>\r\n                        <div className=\"\">\r\n\r\n                            <h3 className=\"font-bold text-xl\">{note.title} </h3>\r\n                            <p>{note.body} </p>\r\n                        </div>\r\n                        <div className=\"ml-auto flex flex-col gap-1 justify-center items-center\">\r\n                            <NoteDeleteButton onDelete={handleDeleteNote} />\r\n                            <NoteEditButton onEdit={handleEditNote} />\r\n                        </div>\r\n                    </div>}\r\n                </Await>\r\n            </Suspense>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default DynamicNotePage\r\n\r\nexport const noteLoader = ({ params: { id } }) => {\r\n    return { notePromise: getNoteById(id), id }\r\n}"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,WAAW,KAAQ,OAAO,CACpD,OAASC,UAAU,CAAEC,WAAW,KAAQ,cAAc,CACtD,OAASC,aAAa,CAAEC,KAAK,CAAEC,WAAW,CAAEC,IAAI,KAAQ,kBAAkB,CAC1E,MAAOC,iBAAgB,KAAM,gCAAgC,CAC7D,MAAOC,QAAO,KAAM,uBAAuB,CAC3C,MAAOC,eAAc,KAAM,8BAA8B,8IAEzD,GAAMC,gBAAe,CAAG,QAAlBA,gBAAe,EAAS,CAC1B,GAAMC,SAAQ,CAAGN,WAAW,EAAE,CAC9B,mBAA4BF,aAAa,EAAE,CAAnCS,WAAW,gBAAXA,WAAW,CAAEC,EAAE,gBAAFA,EAAE,CACvB,GAAMC,iBAAgB,CAAGd,WAAW,CAAC,UAAM,CACvCC,UAAU,CAACY,EAAE,CAAC,CAACE,IAAI,CAAC,iBAAMJ,SAAQ,CAAC,QAAQ,CAAC,GAAC,CACjD,CAAC,CAAE,CAACE,EAAE,CAAEF,QAAQ,CAAC,CAAC,CAClB,GAAMK,eAAc,CAAGhB,WAAW,CAAC,UAAM,CACrCW,QAAQ,kBAAWE,EAAE,UAAQ,CACjC,CAAC,CAAE,CAACA,EAAE,CAAEF,QAAQ,CAAC,CAAC,CAClB,mBACI,wCACI,KAAC,OAAO,EAAC,EAAE,CAAC,QAAQ,EAAG,cACvB,KAAC,QAAQ,EAAC,QAAQ,cAAE,iCAAkB,uBAClC,KAAC,KAAK,EAAC,OAAO,CAAEC,WAAY,CAAC,YAAY,cACrC,wCACI,YAAI,SAAS,CAAC,gCAAgC,8BACzBC,EAAE,GAClB,cACL,UAAG,SAAS,CAAC,sBAAsB,uBAE/B,KAAC,IAAI,EAAC,EAAE,CAAE,QAAS,2BAAsB,EACzC,GAEX,UACI,kBAACI,IAAI,qBAAK,aAAK,SAAS,CAAC,MAAM,wBAC5B,aAAK,SAAS,CAAC,EAAE,wBAEb,YAAI,SAAS,CAAC,mBAAmB,WAAEA,IAAI,CAACC,KAAK,OAAO,cACpD,qBAAID,IAAI,CAACE,IAAI,OAAM,GACjB,cACN,aAAK,SAAS,CAAC,yDAAyD,wBACpE,KAAC,gBAAgB,EAAC,QAAQ,CAAEL,gBAAiB,EAAG,cAChD,KAAC,cAAc,EAAC,MAAM,CAAEE,cAAe,EAAG,GACxC,GACJ,IACF,EACD,GACZ,CAEX,CAAC,CAED,cAAeN,gBAAe,CAE9B,MAAO,IAAMU,WAAU,CAAG,QAAbA,WAAU,MAA2B,IAAXP,GAAE,MAAZQ,MAAM,CAAIR,EAAE,CACrC,MAAO,CAAED,WAAW,CAAEV,WAAW,CAACW,EAAE,CAAC,CAAEA,EAAE,CAAFA,EAAG,CAAC,CAC/C,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}